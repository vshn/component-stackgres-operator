parameters:
  stackgres_operator:
    =_metadata: {}
    namespace: syn-stackgres-operator
    charts:
      stackgres-operator:
        source: "https://stackgres.io/downloads/stackgres-k8s/stackgres/helm/"
        version: "1.4.0"
    kubernetesVersion: "${dynamic_facts:kubernetesVersion:major}.${dynamic_facts:kubernetesVersion:minor}"

    certManager:
      autoConfigure: true

    helmValues:
      deploy:
        restapi: false
      operator:
        annotations:
          # This makes sure we redeploy stackgres if we change the cert-manager config
          cert-manager-config: >
            ${stackgres_operator:certManager}
      cert:
        certManager: ${stackgres_operator:certManager}
    images:
      kubectl:
        repository: docker.io
        image: ongres/kubectl
        tag: ""
      stackgres_operator:
        repository: docker.io
        image: stackgres/operator
        tag: ""
      stackgres_jobs:
        repository: docker.io
        image: stackgres/jobs
        tag: ""
